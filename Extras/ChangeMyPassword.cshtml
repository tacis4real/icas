@model ICAS.Areas.Admin.Models.PortalModel.ChangePasswordContract



<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span class="display-block float-right" aria-hidden="true">×</span>
            </button>
            <h4 class="modal-title">Change My Password</h4>
        </div>
        <div class="modal-body" style="padding: 20px 40px">
            @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "changePortalUserPassword", data_parsley_validate = "" }))
            {

                @Html.HiddenFor(m => m.UserName)

                <div class="row">

                    <div class="col-xs-12 col-sm-12">
                        <div class="form-group clearfix">
                            <label for="OldPassword">Old Password</label>
                            <div>
                                <input type="password" class="form-control required" value="@Model.OldPassword" id="OldPassword" name="OldPassword" required="" placeholder="Current Password" data-parsley-required-message="Please enter your current password">
                            </div>
                        </div>
                    </div>

                </div><!-- end row -->


                <div class="row">

                    <div class="col-xs-12 col-sm-12">
                        <div class="form-group clearfix">
                            <label for="NewPassword">New Password</label>
                            <div>
                                <input type="password" class="form-control required" value="@Model.NewPassword" id="NewPassword" name="NewPassword" required="" placeholder="New Password" data-parsley-required-message="Please enter your new password">
                            </div>
                        </div>
                    </div>

                </div><!-- end row -->


                <div class="row">

                    <div class="col-xs-12 col-sm-12">
                        <div class="form-group clearfix">
                            <label for="ConfirmPassword">Confirm New Password</label>
                            <div>
                                <input type="password" class="form-control required" value="@Model.ConfirmPassword" id="ConfirmPassword" name="ConfirmPassword" required="" placeholder="Confirm Password" data-parsley-required-message="Please confirm your new password">
                            </div>
                        </div>
                    </div>

                </div><!-- end row -->


                <div class="col-md-12 col-sm-12 col-xs-12" style="margin-top: 10px; text-align: right; padding-right: 0">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>

            }

        </div>
    </div>
</div>


<script>
    $(document).ready(function (e) {
        $('#changePortalUserPassword').parsley().on('field:validated', function () {
            var ok = $('.parsley-error').length === 0;
            $('.bs-callout-danger').toggleClass('hidden', ok);

        });

    });
</script>

