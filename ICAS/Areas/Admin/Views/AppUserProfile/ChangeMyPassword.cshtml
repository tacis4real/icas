@using WebCribs.TechCracker.WebCribs.TechCracker
@model ICAS.Areas.Admin.Models.PortalModel.ChangePasswordContract

@{
    ViewBag.Title = "ChangeMyPassword";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}



<!-- Start content -->
<div class="content">

    <div class="container-fluid">

        <div class="row">
            <div class="col-xl-12">
                <div class="page-title-box">
                    <h4 class="page-title float-left">Change My Password</h4>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <!-- end row -->

        @*<div class="row">
            <div class="col-xl-12" style="margin-bottom: 5px">
                <a href="@Url.Action("Index", "AppUserAdmin", new { Area = "Admin" })" class="btn btn-custom waves-effect waves-light pull-right">
                    User Lists
                </a>
            </div>
        </div>*@

        <div class="row">

            <div class="col-12">

                <div class="card-box" style="padding: 60px">

                    @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "changePortalUserPassword", data_parsley_validate = "" }))
                    {

                        @Html.HiddenFor(m => m.UserName)



                        var errorMessage = ViewBag.Error as string;
                        var successMessage = ViewBag.Reply as string;
                        var ret = ViewBag.IsSuccessful != null && (bool)ViewBag.IsSuccessful;

                        if (!string.IsNullOrEmpty(errorMessage) && errorMessage.Length > 1)
                        {
                            <div class="row">
                                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="width: 100%">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h5>Error!</h5>
                                    <p>@Html.Raw(errorMessage)</p>
                                </div>
                            </div>
                        }


                        if (ret)
                        {
                            <div class="row">
                                <div class="alert alert-success" role="alert" style="width: 100%">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h5>Success!</h5>
                                    <p>Password was changed successfully</p>
                                </div>
                            </div>
                        }

                        <div class="row">

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group clearfix">
                                    <label for="OldPassword">Old Password</label>
                                    <div>
                                        <input type="password" class="form-control" value="@Model.OldPassword" id="OldPassword" name="OldPassword" required="" placeholder="Current Password" data-parsley-required-message="Please enter your current password">
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group clearfix">
                                    <label for="NewPassword">New Password</label>
                                    <div>
                                        <input type="password" class="form-control" value="@Model.NewPassword" id="NewPassword" name="NewPassword" required="" placeholder="New Password" data-parsley-required-message="Please enter your new password">
                                    </div>
                                </div>
                            </div>

                        </div><!-- end row -->


                        <div class="row">

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group clearfix">
                                    <label for="ConfirmPassword">Confirm New Password</label>
                                    <div>
                                        <input type="password" class="form-control" value="@Model.ConfirmPassword" id="ConfirmPassword" name="ConfirmPassword" required="" placeholder="Confirm Password" data-parsley-required-message="Please confirm your new password">
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-6">
                                <div class="form-group clearfix">
                                    <div>
                                        <br />
                                        <button type="submit" class="btn btn-block btn-lg btn-custom waves-effect waves-light">Change</button>
                                    </div>
                                </div>
                            </div>

                        </div><!-- end row -->




                        @*<div class="col-md-12 col-sm-12 col-xs-12" style="margin-top: 10px; text-align: right; padding-right: 0">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>*@

                    }

                </div>



            </div>

        </div>

    </div>

</div>

